[["c.html", "Chapter 2 C 2.1 Basic Calculator 2.2 Receiving Input 2.3 DEFINE 2.4 Precedence of Operators 2.5 Charcter Count 2.6 Line Counting 2.7 Modern C Example 2.8 Parsing a CSV File", " Chapter 2 C 2.1 Basic Calculator #include &lt;stdio.h&gt; int main() { /*print Fahrenheit-Celsius table for f=0, 20, ..., 300*/ int lower, upper, step; float fahr, celsius; lower = 0; upper = 300; step = 20; fahr = lower; while (fahr &lt;= upper) { celsius = (5.0/9.0) * (fahr-32.0); printf(&quot;%4.0f %6.1f\\n&quot;, fahr, celsius); fahr = fahr + step; } } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c1815905b2b.c -o c71c1815905b2b.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c1815905b2b.so c71c1815905b2b.o -L/usr/lib/R/lib -lR 2.2 Receiving Input printf: Print to console getchar: Get a string input from the console putchar: Print a single character to the screen. The program below will stop and print ’Enter something…` and then received a string from the user. The while loop iterates over each letter in the input. #include &lt;stdio.h&gt; int main() { int c; printf(&quot;Enter something, or ctrl-D to quit.\\n&quot;); c = getchar(); while (c != EOF) { printf(&quot;\\n&quot;); putchar(c); c = getchar(); } } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c185bcaac1e.c -o c71c185bcaac1e.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c185bcaac1e.so c71c185bcaac1e.o -L/usr/lib/R/lib -lR Simpler version of the above, showing that we can use assignment within a loop. #include &lt;stdio.h&gt; int main() { int c; while ((c = getchar()) != EOF) putchar(c); } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c1861af88fb.c -o c71c1861af88fb.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c1861af88fb.so c71c1861af88fb.o -L/usr/lib/R/lib -lR ## For Loop ```c #include &lt;stdio.h&gt; int main() { int fahr; for (fahr = 0; fahr &lt;= 300; fahr = fahr + 20) printf(&quot;%3d %6.1f\\n&quot;, fahr, (5.0/9.0)*(fahr-32)); } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c18749cfc12.c -o c71c18749cfc12.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c18749cfc12.so c71c18749cfc12.o -L/usr/lib/R/lib -lR 2.3 DEFINE #include &lt;stdio.h&gt; #define LOWER 0 #define UPPER 300 #define STEP 20 int main() { int fahr; for (fahr = LOWER; fahr &lt;= UPPER; fahr = fahr + STEP) printf(&quot;%3d %6.1f\\n&quot;, fahr, (5.0/9.0)*(fahr-32)); } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c18238fb250.c -o c71c18238fb250.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c18238fb250.so c71c18238fb250.o -L/usr/lib/R/lib -lR 2.4 Precedence of Operators c = getchar() != EOF is equal to c = (getchar() != EOF) 2.5 Charcter Count #include &lt;stdio.h&gt; int main() { long nc = 0; while (getchar() != EOF) { nc = nc + 1; printf(&quot;There are %ld characters\\n&quot;, nc); } } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c1857d179fd.c -o c71c1857d179fd.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c1857d179fd.so c71c1857d179fd.o -L/usr/lib/R/lib -lR 2.6 Line Counting #include &lt;stdio.h&gt; int main() { int c, n1; n1 = 0; while((c = getchar()) != EOF) { if (c == &#39;\\n&#39;) { printf(&quot;%d\\n&quot;, n1); ++n1; } } } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c181d1364c9.c -o c71c181d1364c9.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c181d1364c9.so c71c181d1364c9.o -L/usr/lib/R/lib -lR 2.7 Modern C Example #include &lt;stdlib.h&gt; #include &lt;stdio.h&gt; int main(void) { double A[5] = { [0] = 9.0, [1] = 2.9, [4] = 3.E+25, [3] = 0.00007 }; for (size_t i = 0; i &lt; 5; ++i) { printf(&quot;element %zu is %g, \\tits square is %g\\n&quot;, i, A[i], A[i]*A[i]); } return EXIT_SUCCESS; } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c1875e08844.c -o c71c1875e08844.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c1875e08844.so c71c1875e08844.o -L/usr/lib/R/lib -lR 2.8 Parsing a CSV File #include &lt;stdio.h&gt; #define ANSI_COLOR_PRIMARY &quot;\\x1b[32m&quot; void print_color(char * message, char * color) { printf(&quot;%s&quot;, color); printf(&quot;%s&quot;, message); printf(&quot;%s&quot;, &quot;\\x1b[0m&quot;); } int main(void) { int c; FILE * file; file = fopen(&quot;/home/fdrennan/Programming/C/modernc/mtcars.csv&quot;, &quot;r&quot;); int n_lines = 0; int n_columns = 0; if (file) { while ((c = getc(file)) != EOF) { if (c == &#39;\\n&#39;) ++n_lines; if ((n_lines &lt; 1) &amp; (c == &#39;,&#39;)) ++n_columns; if (n_lines &lt; 5) { putc(c, stdout); if (c == &#39;,&#39;) printf(&quot; &quot;); } } fclose(file); } print_color(&quot;\\n\\nNumber of lines: &quot;, ANSI_COLOR_PRIMARY); printf(&quot;%d\\n&quot;, n_lines - 1); print_color(&quot;Number of columns: &quot;, ANSI_COLOR_PRIMARY); printf(&quot;%d\\n&quot;, n_columns); } ## gcc -std=gnu99 -I&quot;/usr/share/R/include&quot; -DNDEBUG -fpic -g -O2 -fdebug-prefix-map=/build/r-base-8T8CYO/r-base-4.0.3=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g -c c71c18387c1464.c -o c71c18387c1464.o ## gcc -std=gnu99 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -Wl,-z,relro -o c71c18387c1464.so c71c18387c1464.o -L/usr/lib/R/lib -lR "]]
